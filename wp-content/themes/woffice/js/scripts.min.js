var Woffice={init:function(e){"use strict";var i=this;i.$="undefined"==typeof e?jQuery:e,i.data="undefined"!=typeof WOFFICE?WOFFICE:{},i.$body=i.$("body"),i.$main=i.$("#main-content"),i.$navigation=i.$("#navigation"),i.$navbar=i.$("#navbar"),i.$adminBar=i.$("#wpadminbar"),i.$searchTrigger=i.$("#search-trigger"),i.$formMembers=i.$("#members-directory-form"),i.$mainSearch=i.$("#main-search"),i.$navWrapper=i.$("#nav-languages").find("a"),i.$navTrigger=i.$("a#nav-trigger"),i.$scrollHelper=i.$("#can-scroll"),i.$rightSidebar=i.$("#right-sidebar"),i.$sidebarTrigger=i.$("a#nav-sidebar-trigger"),Woffice.$body.hasClass("menu-is-horizontal")?Woffice.data.menu_threshold=992:Woffice.data.menu_threshold=450,i.$(window).load(function(){i.userSidebar.start(),i.alerts.start(),i.customScrollbars.start(),i.wooCommerce.start(),i.tooltips.start(),i.frontend.start(),i.sliders.start(),i.animatedNumbers.start(),i.footer.start(),i.menu.start(),i.masonryLayout.start(),i.navigation.start(),i.sidebar.start()}),i.$(window).resize(function(){i.wooCommerce.resize(),i.menu.submenus(),i.masonryLayout.refresh(),i.navigation.resize(),i.sidebar.resize()}),i.userSidebar.watch(),i.alerts.watch(),i.searchBar.watch(),i.advancedSearch.watch(),i.wooCommerce.watch(),i.languageSwitcher.watch(),i.sliders.watch(),i.buddyPress.watchOldActivities(),i.buddyPress.watchActivityMeta(),i.scrollTop.watch(),i.linkEffect.watch(),i.masonryLayout.watch(),i.navigation.watch(),i.sidebar.watch(),i.buddyPressNotifications.watch()},loader:function(e,i){var a=this;return a.isLoading=!1,a.options={color:"#757575",top:"50%",speed:1.6},"undefined"!=typeof i&&Woffice.$.extend(a.options,i),a.create=function(){a.loader=new Spinner(a.options),a.loader.spin(e[0]),a.loader.element=e,a.loader.element.addClass("has-loader"),a.isLoading=!0},a.remove=function(){a.loader.element.removeClass("has-loader"),a.loader.stop(),a.loader=null,a.isLoading=!1},a.create(),a},alerts:{start:function(){var e=Woffice.$,i=e(".woffice-main-alert");0!==i.length&&i.each(function(){var i=e(this).find(".woffice-alert-close"),a=e(this),t=a.hasClass("no-timeout");i.on("click",function(){a.slideUp()}),t||setTimeout(function(){a.slideUp()},parseInt(Woffice.data.alert_timeout))})},watch:function(){var e=Woffice.$;e(".woffice-alert-close ").on("click",function(){e(this).closest(".woffice-main-alert").slideUp()})}},userSidebar:{start:function(){var e=Woffice.$,i=e("#user-sidebar");if(i.length>0){var a=e("#topbar").height(),t=e("#navbar").height(),n=0;n=e("topbar").hasClass("topbar-closed")?t+a:t,i.css("padding-top",n)}e("#user-sidebar nav ul li.menu-parent a, #user-sidebar #dropdown-user-menu li.menu-item-has-children a").bind("click",!1),e("#user-sidebar nav ul li.menu-child a, #user-sidebar #dropdown-user-menu li.menu-item-has-children ul a").unbind("click",!1)},watch:function(){var e=Woffice.$;e(".bp_is_active #user-thumb, #user-close").on("click",function(){e("#nav-user, #user-sidebar").toggleClass("active")}),e("#user-sidebar nav ul li.menu-parent a, #user-sidebar #dropdown-user-menu li.menu-item-has-children a").on("click",function(){e(this).toggleClass("dropdownOn"),e(this).parent("li").toggleClass("dropdownOn"),e(this).parent("li").find("ul").slideToggle()})}},customScrollbars:{start:function(){var e=Woffice.$;e("body.menu-is-vertical #navigation").mCustomScrollbar({axis:"y",theme:"minimal"}),window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches&&e("body.menu-is-horizontal #navigation").mCustomScrollbar({axis:"y",theme:"minimal"}),e("#user-sidebar").mCustomScrollbar({axis:"y",theme:"minimal-dark"});var i=e("#woffice-minicart-top");i.length&&i.mCustomScrollbar({axis:"y",theme:"minimal-dark"}),e("#right-sidebar").mCustomScrollbar({axis:"y",theme:"minimal-dark",mouseWheel:{deltaFactor:100},callbacks:{onInit:function(){e("#can-scroll").on("click",function(){e("#main-content").hasClass("sidebar-hidden")||e("#can-scroll").show(),e(this).hasClass("clicked")?(e("#right-sidebar").mCustomScrollbar("scrollTo","top"),e(this).removeClass("clicked")):(e("#right-sidebar").mCustomScrollbar("scrollTo","bottom"),e(this).addClass("clicked"))})},onUpdate:function(){e("#main-content").height()>=e("#right-sidebar")[0].scrollHeight?e("#can-scroll").addClass("clicked"):e("#can-scroll").removeClass("clicked")},onScroll:function(){e("#main-content").height()>=e("#right-sidebar")[0].scrollHeight?e("#can-scroll").addClass("clicked"):e("#can-scroll").removeClass("clicked")}}})}},searchBar:{watch:function(){var e=Woffice.$;Woffice.$searchTrigger.on("click",function(){return Woffice.$mainSearch.slideToggle(),Woffice.$mainSearch.toggleClass("opened"),e("html,body").animate({scrollTop:0},"fast"),document.getElementById("s").focus(),!1})}},advancedSearch:{watch:function(){var e=Woffice.$;e("#advanced-search-reset").on("click",function(){for(var e=Woffice.$formMembers.find("input:not(#advanced-search-submit):not(#advanced-search-reset)"),i=0;i<e.length;i++)e[i].setAttribute("value","")})}},wooCommerce:{flexsliderWoo:null,watch:function(){var e=Woffice.$;e("#nav-buttons").on("click","#nav-cart-trigger.active",function(){e(this).toggleClass("clicked"),e("#woffice-minicart-top").slideToggle()})},getGridSize:function(){return window.innerWidth<400?1:window.innerWidth<600?2:window.innerWidth<910?3:4},start:function(){var e=Woffice.$,i=this;e(".flexslider > .woocommerce").flexslider({animation:"slide",animationLoop:!1,selector:".products > li.product",itemWidth:210,itemMargin:0,controlNav:!1,move:0,slideshow:!1,minItems:i.getGridSize(),maxItems:i.getGridSize(),start:function(e){i.flexsliderWoo=e}})},resize:function(){var e=this,i=Woffice.$;if(i(".flexslider > .woocommerce").length>0){var a=e.getGridSize();null!==e.flexsliderWoo&&(e.flexsliderWoo.vars.minItems=a,e.flexsliderWoo.vars.maxItems=a)}}},languageSwitcher:{watch:function(){Woffice.$navWrapper.find("a").on("click",function(){Woffice.$navWrapper.find("ul").slideToggle()})}},tooltips:{start:function(){var e=Woffice.$;e('[data-toggle="tooltip"]').tooltip()}},frontend:{checkboxes:function(){var e=Woffice.$;e("#page-wrapper .wpcf7-checkbox input:checkbox,#page-wrapper .wpcf7-radio input:radio").change(function(){e(this).is(":checked")?e(this).parent("label").addClass("checked"):e(this).parent("label").removeClass("checked")})},toggleEdit:function(){var e=Woffice.$;0!==e("#blog-create").length&&(e("#blog-create, #blog-loader").hide(),e("#show-blog-create").on("click",function(){function i(){e("#blog-create").show(),a.remove()}var a=new Woffice.loader(e(".frontend-wrapper"));e("#show-blog-create").hide(),setTimeout(i,1e3)}),e("#hide-blog-create").on("click",function(){function i(){e("#show-blog-create").show(),a.remove()}var a=new Woffice.loader(e(".frontend-wrapper"));e("#blog-create").hide(),setTimeout(i,1e3)}))},toggleCreation:function(){var e=Woffice.$;0!==e("#blog-edit").length&&(e("#blog-edit, #blog-loader").hide(),e("#show-blog-edit").on("click",function(){function i(){e("#blog-edit").show(),a.remove()}var a=new Woffice.loader(e(".frontend-wrapper"));e("#show-blog-edit").hide(),setTimeout(i,1e3)}),e("#hide-blog-edit").on("click",function(){function i(){e("#show-blog-edit").show(),a.remove()}var a=new Woffice.loader(e(".frontend-wrapper"));e("#blog-edit").hide(),setTimeout(i,1e3)}))},initAutocompleteMap:function(){var e=document.getElementById(Woffice.data.input_location_bb);null!==e&&(autocomplete=new google.maps.places.Autocomplete(e,{types:["geocode"]}),navigator.geolocation&&"0"!==Woffice.data.user_id&&navigator.geolocation.getCurrentPosition(function(e){var i={lat:e.coords.latitude,lng:e.coords.longitude},a=new google.maps.Circle({center:i,radius:e.coords.accuracy});autocomplete.setBounds(a.getBounds())}))},start:function(){var e=this;e.checkboxes(),e.toggleEdit(),e.toggleCreation(),e.initAutocompleteMap()}},sliders:{watch:function(){var e=Woffice.$,i=this;e("#dashboard .widget a, #nav-trigger, #nav-sidebar-trigger").on("click",function(){setTimeout(function(){e("#dashboard").find(".widget_woffice_funfacts .flexslider").flexslider(),i.refreshRevSlider()},2e3)})},refreshRevSlider:function(){var e=Woffice.$,i=e(".rev_slider"),a="function"==typeof i.revredraw;a&&setTimeout(function(){i.revredraw()},1e3)},start:function(){var e=Woffice.$,i=this;e(".widget_woffice_funfacts .flexslider").flexslider({animation:"slide",animationLoop:!0,slideshow:!0,directionNav:!1,selector:".slides > li",smoothHeight:!1,start:function(){e(".widget_woffice_funfacts .flexslider").resize()}}),e("#familiers").find(".flexslider").flexslider({animation:"slide",animationLoop:!0,selector:".slides > li",itemWidth:80,itemMargin:0,controlNav:!1,directionNav:!1,minItems:0,move:0,slideshow:!1}),i.refreshRevSlider()}},animatedNumbers:{start:function(){var e=Woffice.$;e(".animated-number h1").countTo({speed:4e3})}},buddyPress:{watchOldActivities:function(){var e=Woffice.$;e(".activity-comments .show-all").on("click",function(){e(this).closest(".activity-comments").find("li").removeClass("hidden")})},watchActivityMeta:function(){var e=Woffice.$;e(".activity-meta i").on("click",function(i){i.preventDefault(),e(this).parent().trigger("click")})}},scrollTop:{watch:function(){var e=Woffice.$;e("#scroll-top").on("click",function(){return e("html, body").animate({scrollTop:e(e.attr(this,"href")).offset().top},500),!1})}},linkEffect:{elements:["#navbar a",".main-menu li > a","a.btn.btn-default","#content-container #buddypress button",'#buddypress .button-nav li a,#main-content button[type="submit"]','input[type="submit"]',"#user-sidebar nav ul li a","#buddypress #item-nav div.item-list-tabs ul li a",'#woffice-login .login-submit input[type="submit"]','#main-content input[type="button"],#learndash_next_prev_link a',"#content-container .ssfa_fileup_wrapper span"],watch:function(){var e,i,a,t,n=this,o=n.elements.join(", "),s=Woffice.$;s(o).on("click",function(n){0===s(this).find(".material").length&&s(this).prepend("<span class='material'></span>"),e=s(this).find(".material"),e.removeClass("animate"),e.height()||e.width()||(i=Math.max(s(this).outerWidth(),s(this).outerHeight()),e.css({height:i,width:i})),a=n.pageX-s(this).offset().left-e.width()/2,t=n.pageY-s(this).offset().top-e.height()/2,e.css({top:t+"px",left:a+"px"}).addClass("animate")})}},footer:{loadExtafooterAvatars:function(){var e=Woffice.$,i=e("#extrafooter[data-woffice-ajax-load=true]");if(0!==i.length){var a=new Woffice.loader(i.find("#familiers"),{left:"45%"});e.ajax({type:"POST",url:Woffice.data.ajax_url.toString(),data:{action:"load_extrafooter_avatars"},success:function(e){i.find("#familiers").html(e),a.remove()}})}},footerWidgetsLayout:function(){var e=Woffice.$;if(window.matchMedia("(min-width: 992px)").matches){var i=e("#main-footer").find("#widgets"),a=i.attr("data-widgets-layout");"undefined"!=typeof a&&a!==!1&&i.length>0&&(a=a.split("-"),i.find(".widget").each(function(i){var t=a.length;e(this).removeClass("col-md-3"),e(this).addClass("col-md-"+a[i%t])}))}},start:function(){var e=this;e.loadExtafooterAvatars(),e.footerWidgetsLayout()}},menu:{megaMenuTimer:null,megaMenuCol:200,edgeLimit:0,megaMenu:function(){var e=this,i=Woffice.$;Woffice.$body.hasClass("menu-is-horizontal")||(setTimeout(function(){i("#main-menu").find("li").each(function(){if(i(this).hasClass("menu-item-has-mega-menu")){var e=i(this).innerHeight(),a=i(this).find("div.mega-menu");i(a).css("margin-top","-"+e+"px")}})},2500),e.megaMenuCol=180),i(".main-menu > li.menu-item-has-mega-menu").on({mouseenter:function(){var a=i(this).find("div.mega-menu"),t=a.find("li.mega-menu-col").length;a.width(t*e.megaMenuCol+20),e.megaMenuTimer=setTimeout(function(){a.addClass("open animated")},0)},mouseleave:function(){var e=i(this).find("div.mega-menu");setTimeout(function(){e.removeClass("open")},0)}})},calculateEdge:function(e){var i=Woffice.$,a=this,t=i(e).find("ul").first();if(t.length){var n=t.offset(),o=n.left,s=t.width(),r=o+s<=a.edgeLimit;r?i(e).removeClass("edge"):i(e).addClass("edge")}},setSubMenus:function(){var e=Woffice.$;e("#main-menu").find("li").each(function(){if(e(this).hasClass("menu-item-has-children")){var i=e(this).height(),a=e(this).find(".sub-menu");e(a).css("margin-top","-"+i+"px")}})},submenus:function(){var e=this,i=Woffice.$;if(e.edgeLimit=i("#page-wrapper").width(),window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches||Woffice.navigation.isTouchDevice()&&window.innerWidth<1100)i(".main-menu > li.menu-item-has-children > a:first-child").not(".binded").addClass("binded").on("click",function(){if(window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches||Woffice.navigation.isTouchDevice()&&window.innerWidth<1100){i(this).toggleClass("mobile-menu-displayed");var e=i(this).parent("li");return e.hasClass("menu-item-has-mega-menu")?e.find("> .mega-menu").slideToggle():e.find("> .sub-menu").slideToggle(),!1}});else{i(".main-menu li.menu-item-has-children:not(.menu-item-has-mega-menu)").on({mouseenter:function(){var e=this,a=i(e).find(".sub-menu").first();setTimeout(function(){a.addClass("display-submenu")},10),a.attr("style","margin-top: -"+i(this).height()+"px");var t=i(window).scrollTop(),n=a.offset().top,o=n-t,s=0,r=o+a.height()-i(window).height();i(e).hasClass("mega-menu-col")&&(s=Math.max.apply(null,i(e).closest(".mega-menu").find(".mega-menu-col").map(function(){return i(this).height()}).get()),r=o+s-i(window).height());var c=r<0;c||(i(e).hasClass("mega-menu-col")?i(e).closest(".mega-menu")[0].style.setProperty("margin-top","-"+parseInt(s)+"px","important"):a.attr("style","margin-top: -"+parseInt(i(e).height()+r)+"px !important")),Woffice.menu.calculateEdge(this)},mouseleave:function(){var e=this,a=i(e).find("> .sub-menu");a.removeClass("display-submenu"),i(e).removeClass("edge")}}),i("body").on({mouseleave:function(){setTimeout(function(){var e=i("#navigation");e.find(".display-submenu").removeClass("display-submenu"),e.find(".edge").removeClass("edge")},100)}})}},handleClicks:function(){var e=Woffice.$;e(".main-menu > li.menu-item-has-children > a").on("click",function(i){var a=e(this).parent("li");a.find("> .sub-menu").hasClass("display-submenu")||i.preventDefault()})},start:function(){var e=this,i=Woffice.$;e.edgeLimit=i("#page-wrapper").width(),e.megaMenu(),e.setSubMenus(),e.submenus(),e.handleClicks()}},masonryLayout:{build:function(){var e=Woffice.$,i=e("#dashboard");e(".masonry-layout").isotope({itemSelector:".box",layoutMode:"masonry"}),i.length>0&&(i.hasClass("is-draggie")||i.isotope())},refresh:function(){var e=Woffice.$;Woffice.masonryLayout.build(),e(".eventon_fullcal").each(function(){var i=e(this).width(),a=e(this).find(".evofc_months_strip"),t=a.attr("data-multiplier");t<0&&a.width(3*i).css({"margin-left":t*i+"px"}),e(this).find(".evofc_month").width(i)})},watch:function(){var e=this,i=Woffice.$;i("#dashboard").on("click","a.evcal_list_a, .widget a, p.evo_fc_day",function(){e.refresh()}),i("#nav-trigger, #nav-sidebar-trigger").on("click",function(){setTimeout(e.refresh,600)})},start:function(){var e=Woffice.$,i=null;setTimeout(function(){i=e("#groups-dir-list #groups-list, #members-dir-list #members-list").isotope({itemSelector:"li",layoutMode:"fitRows"})},1e3),e("#nav-trigger, #nav-sidebar-trigger").on("click",function(){setTimeout(function(){i.isotope()},1e3)}),setTimeout(function(){Woffice.masonryLayout.build()},200),setInterval(function(){Woffice.masonryLayout.build(),Woffice.masonryLayout.refresh()},2e3)}},navigation:{isTouchDevice:function(){return"undefined"!=typeof window.ontouchstart},watch:function(){var e=Woffice.$,i=this;Woffice.$navTrigger.on("click",function(){e("#main-content").hasClass("navigation-hidden")?i.showVerticalMenu(!0):i.hideVerticalMenu(!0),Woffice.sidebar.setSidebarWidth()})},hideVerticalMenu:function(e){var i=Woffice.$;Woffice.$navTrigger.find("i").addClass("fa-bars"),Woffice.$navTrigger.find("i").removeClass("fa-long-arrow-left"),i("body, #navigation, #main-content, #main-header, #main-footer").addClass("navigation-hidden"),e&&Cookies.set("Woffice_nav_position","navigation-hidden",{expires:7,path:"/"}),Woffice.sliders.start()},showVerticalMenu:function(e){var i=Woffice.$;Woffice.$navTrigger.find("i").removeClass("fa-bars"),Woffice.$navTrigger.find("i").addClass("fa-long-arrow-left"),i("body,#navigation, #main-content, #main-header, #main-footer").removeClass("navigation-hidden"),e&&Cookies.remove("Woffice_nav_position",{expires:7,path:"/"})},responsiveMenu:function(e){var i=this,a=Woffice.$,t=a(".main-menu"),n=a("#woffice-notifications-menu");if(n.length>0){var o=a("#wpadminbar"),s=o.length>0?o.height():0,r=a("#navbar").height();n.css("top",parseInt(s+r)+"px")}window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches||Woffice.navigation.isTouchDevice()&&window.innerWidth<1100?(e?i.hideVerticalMenu():a("body, #navigation, #main-content, #main-header, #main-footer").addClass("navigation-hidden"),t.hasClass("menu-loop-happened")||a(".main-menu > li.menu-item-has-children").each(function(){var e=a(this).find("> a"),i=a(this).find("> ul.sub-menu"),t=e.attr("href");if("#"!==t&&"javascript:void(0)"!==t){a(this).hasClass("menu-item-has-mega-menu")&&(i=a(this).find(".mega-menu .sub-menu:first-child"));var n='<li class="menu-item mobile-submenu-link"><a href="'+t+'" class="center"><i class="fa fa-arrow-right"></i></a></li>';i.prepend(n)}}),t.addClass("menu-loop-happened"),t.addClass("is-touchable")):(t.removeClass("menu-loop-happened"),t.removeClass("is-touchable"),a(".main-menu > li.menu-item-has-children").each(function(){a(this).find(".mobile-submenu-link").remove()}),a("#page-wrapper").hasClass("menu-is-closed")||Woffice.$body.hasClass("menu-is-horizontal")||i.showVerticalMenu())},start:function(){var e=this;e.responsiveMenu(!0),setTimeout(function(){Woffice.$navigation.removeClass("mobile-hidden")},600)},resize:function(){var e=this;e.responsiveMenu(!1)}},sidebar:{start:function(){var e=this,i=Woffice.$;e.setSidebarWidth(),e.responsiveSidebar(!0),e.horizontalMenuAuto(),(0===Woffice.$rightSidebar.length||Woffice.$main.hasClass("sidebar-hidden"))&&Woffice.$body.addClass("sidebar-hidden"),Woffice.$scrollHelper.hide(),Woffice.$rightSidebar.length>0&&(Woffice.$main.hasClass("sidebar-hidden")?Woffice.$scrollHelper.fadeOut():Woffice.$main.height()<Woffice.$rightSidebar[0].scrollHeight&&Woffice.$scrollHelper.fadeIn("slow")),Cookies.get("Woffice_sidebar_position")&&Woffice.data.cookie_allowed.sidebar&&(Woffice.$sidebarTrigger.addClass("sidebar-hidden"),i("#main-content, #main-header, body").addClass("sidebar-hidden"),Woffice.$sidebarTrigger.find("i").addClass("fa-long-arrow-left"),Woffice.$sidebarTrigger.find("i").removeClass("fa-long-arrow-right"),Woffice.$scrollHelper.fadeOut(),Woffice.sliders.start()),e.isOpen()||(Woffice.$sidebarTrigger.find("i").addClass("fa-long-arrow-left"),Woffice.$sidebarTrigger.find("i").removeClass("fa-long-arrow-right"))},resize:function(){var e=this;e.setSidebarWidth(),e.setSidebarTopOffset(),e.responsiveSidebar(!1)},watch:function(){var e=this,i=Woffice.$;i("#nav-sidebar-trigger").on("click",function(){e.sidebarToggling()})},setSidebarWidth:function(){var e=Woffice.$,i=e("#right-sidebar");if(0!==i.length){var a=i.width();e("#can-scroll").width(a)}},responsiveSidebar:function(e){var i=Woffice.$,a=i(window).width(),t=i(window).height(),n=i("#horizontal-menu-trigger-container"),o=i("#horizontal-menu-trigger").length;window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches?Woffice.$body.hasClass("menu-is-horizontal")&&(Woffice.$navigation.addClass("menu-responsive-horizontal"),o||0!==i("#horizontal-menu-trigger-container").length||Woffice.$navigation.find("ul.main-menu").prepend('<li id="horizontal-menu-trigger-container"><a href="#" id="horizontal-menu-trigger"><i class="fa fa-bars"></i></a></li>')):n.length>0&&n.remove(),(i(window).width()!==a&&i(window).height()!==t||e)&&(window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches?(Woffice.$sidebarTrigger.find("i").addClass("fa-long-arrow-left"),Woffice.$sidebarTrigger.find("i").removeClass("fa-long-arrow-right"),Woffice.$sidebarTrigger.addClass("sidebar-hidden"),i("#main-content, body").addClass("sidebar-hidden"),Woffice.$scrollHelper.fadeOut("fast"),Woffice.$body.hasClass("menu-is-horizontal")&&(Woffice.$navigation.addClass("menu-responsive-horizontal"),o||0!=i("#horizontal-menu-trigger-container").length||Woffice.$navigation.find("ul.main-menu").prepend('<li id="horizontal-menu-trigger-container"><a href="#" id="horizontal-menu-trigger"><i class="fa fa-bars"></i></a></li>'))):n.length>0&&n.remove())},sidebarToggling:function(){var e=this,i=Woffice.$;if(e.isOpen()){if(window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches){var a=i("#search-trigger"),t=i("#nav-notification-trigger");a.length>0&&i("#main-search").hasClass("opened")&&i(a).click(),t.length>0&&t.hasClass("clicked")&&i(t).click()}e.closeSidebar(),Cookies.set("Woffice_sidebar_position","navigation-hidden",{expires:7,path:"/"})}else e.openSidebar(),Cookies.remove("Woffice_sidebar_position",{expires:7,path:"/"})},setSidebarTopOffset:function(){var e=Woffice.$,i=e("#right-sidebar"),a=e("#navbar"),t=0;i.length<=0||(window.matchMedia("(max-width: 600px)").matches&&a.length>0&&(t+=a.height(),Woffice.$body.hasClass("has-navigation-fixed")?Woffice.$rightSidebar.css("height","100%").css("height","-="+a.height()):Woffice.$rightSidebar.css("height","100%")),Woffice.$rightSidebar.animate({top:t}))},isOpen:function(){return!Woffice.$main.hasClass("sidebar-hidden")},openSidebar:function(){var e=this,i=Woffice.$;Woffice.$sidebarTrigger.find("i").removeClass("fa-long-arrow-left"),Woffice.$sidebarTrigger.find("i").addClass("fa-long-arrow-right"),Woffice.$sidebarTrigger.removeClass("sidebar-hidden"),i("#main-content, #main-header, body").removeClass("sidebar-hidden"),e.setSidebarTopOffset(),Woffice.$scrollHelper.fadeIn("fast"),Woffice.$body.hasClass("menu-is-vertical")&&!Woffice.$body.hasClass("navigation-hidden")&&window.matchMedia("(max-width: 450px)").matches&&i("#nav-trigger").click()},closeSidebar:function(){var e=Woffice.$;Woffice.$sidebarTrigger.find("i").addClass("fa-long-arrow-left"),Woffice.$sidebarTrigger.find("i").removeClass("fa-long-arrow-right"),Woffice.$sidebarTrigger.addClass("sidebar-hidden"),e("#main-content, #main-header, body").addClass("sidebar-hidden"),Woffice.$scrollHelper.fadeOut()},horizontalMenuAuto:function(){var e=this,i=Woffice.$;i(".main-menu").on("click","#horizontal-menu-trigger",function(){Woffice.$navigation.toggleClass("menu-responsive-horizontal-show"),Woffice.$body.toggleClass("navigation-hidden"),!Woffice.$body.hasClass("navigation-hidden")&&window.matchMedia("(max-width: "+Woffice.data.menu_threshold+"px)").matches&&e.closeSidebar()})}},buddyPressNotifications:{close:function(){var e=Woffice.$;e("#woffice-notifications-menu").fadeOut(),e("#nav-notification-trigger").find("i.fa").removeClass("fa-times").addClass("fa-bell-o")},watch:function(){var e=Woffice.$;e("#nav-notification-trigger").click(function(){var i=e(this).find("i.fa");i.hasClass("fa-bell-o")?(i.removeClass("fa-bell-o").addClass("fa-times"),Woffice.buddyPressNotifications.fetch()):Woffice.buddyPressNotifications.close()})},markRead:function(e){var i=Woffice.$,a=i(e),t=a.data("component-action"),n=a.data("component-name"),o=a.data("item-id");i.ajax({url:Woffice.data.ajax_url.toString(),type:"POST",data:{action:"wofficeNoticationsMarked",component_action:t,component_name:n,item_id:o},success:function(){a.parent().closest("div").remove(),0===i("#woffice-notifications-content").children().length&&(i("#nav-notification-trigger").removeClass("active"),Woffice.buddyPressNotifications.close())},error:function(){console.error("Ajax marked failed")}})},fetch:function(){var e=Woffice.$,i=e("#nav-notification-trigger"),a=(i.find("i.fa"),e("#woffice-notifications-menu"));a.slideDown();var t=new Woffice.loader(a);e.ajax({url:Woffice.data.ajax_url.toString(),type:"POST",data:{action:"wofficeNoticationsGet",user:Woffice.data.user_id.toString()},success:function(i){a.find("#woffice-notifications-content").empty(),a.find("#woffice-notifications-content").html(i),t.remove(),e("a.mark-notification-read").on("click",function(){Woffice.buddyPressNotifications.markRead(this)})},error:function(){console.error("Ajax notifications failed")}})}}};Woffice.init(jQuery);